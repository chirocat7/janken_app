<!--
==============================
ã˜ã‚ƒã‚“ã‘ã‚“ã‚¢ãƒ—ãƒªä½œæˆæ‰‹é †æ›¸
==============================
1. HTMLã®æº–å‚™
  - 3ã¤ã®ãƒœã‚¿ãƒ³ï¼ˆã‚°ãƒ¼ãƒ»ãƒãƒ§ã‚­ãƒ»ãƒ‘ãƒ¼ï¼‰ã¨çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ã‚’ç”¨æ„ã™ã‚‹ã€‚
2. JavaScriptã§è¦ç´ ã‚’å–å¾—
  - getElementByIdã§å„ãƒœã‚¿ãƒ³ã¨çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ã‚’å–å¾—ã€‚
3. ã˜ã‚ƒã‚“ã‘ã‚“ã®æ‰‹ã‚’é…åˆ—ã§ç”¨æ„
  - ä¾‹ï¼šconst hands = ['ã‚°ãƒ¼', 'ãƒãƒ§ã‚­', 'ãƒ‘ãƒ¼'];
4. ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®š
  - å„ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸã¨ãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰‹ã‚’æ±ºå®šã—ã€ã‚²ãƒ¼ãƒ ã‚’å®Ÿè¡Œã™ã‚‹é–¢æ•°ã‚’å‘¼ã³å‡ºã™ã€‚
5. ã‚²ãƒ¼ãƒ å®Ÿè¡Œé–¢æ•°ã‚’ä½œæˆ
  - ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æ‰‹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§æ±ºå®šã—ã€å‹æ•—åˆ¤å®šé–¢æ•°ã‚’å‘¼ã³å‡ºã—ã€çµæœã‚’è¡¨ç¤ºã€‚
6. å‹æ•—åˆ¤å®šé–¢æ•°ã‚’ä½œæˆ
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æ‰‹ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆæ•°å€¤ï¼‰ã«å¤‰æ›ã—ã€æ¡ä»¶ã§åˆ¤å®šã€‚
7. çµæœã‚’ç”»é¢ã«è¡¨ç¤º
  - å‹æ•—åˆ¤å®šã®çµæœã‚’divãªã©ã«è¡¨ç¤ºã™ã‚‹ã€‚
8. å¿…è¦ã«å¿œã˜ã¦è¿½åŠ æ©Ÿèƒ½
  - ç”»åƒè¡¨ç¤ºã€ã‚¹ã‚³ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ãƒªã‚»ãƒƒãƒˆãƒœã‚¿ãƒ³ã€ãƒ‡ã‚¶ã‚¤ãƒ³èª¿æ•´ãªã©ã€‚
==============================
-->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã˜ã‚ƒã‚“ã‘ã‚“ã‚¢ãƒ—ãƒª</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="container">
  <h1>ã˜ã‚ƒã‚“ã‘ã‚“ã‚¢ãƒ—ãƒª</h1>
  <p>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ã˜ã‚ƒã‚“ã‘ã‚“ã‚’ã—ã¾ã—ã‚‡ã†ï¼</p>
<div id="janken">
    <button id="rock">ã‚°ãƒ¼<img src="img/rock.png"></button>
    <button id="scissors">ãƒãƒ§ã‚­<img src="img/scissors.png"></button>
    <button id="paper">ãƒ‘ãƒ¼<img src="img/paper.png"></button>
  </div>
<div id="resultarea">
  <div id="userhand"></div>
  <div id="computerhand"></div>
</div>
  <div id="result"></div>
  <div id="score">
    <p>å‹ã¡ï¼š<span id="win"></span></p>
    <p>è² ã‘ï¼š<span id="lose"></span></p>
    <p>å¼•ãåˆ†ã‘ï¼š<span id="draw"></span></p>
</div>
</div>
</body>
<script>
  const rockButton = document.getElementById('rock');
  const scissorsButton = document.getElementById('scissors');
  const paperButton = document.getElementById('paper');
  const userHandDiv = document.getElementById('userhand');
  const computerHandDiv = document.getElementById('computerhand');
  const resultDiv = document.getElementById('result');
  const hands = ['ã‚°ãƒ¼', 'ãƒãƒ§ã‚­', 'ãƒ‘ãƒ¼'];
  const scoreDiv = document.getElementById('score');

  let winScore = 0;
  let loseScore = 0;
  let drawScore = 0;

  scoreDiv.style.display = 'none';

  // ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã®å‡¦ç†
  rockButton.addEventListener('click' , function() {
    alert('ã‚ãªãŸã¯ã‚°ãƒ¼ã‚’é¸æŠã—ã¾ã—ãŸ');
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‰‹ã‚’è¨­å®š
    const userHand = 'ã‚°ãƒ¼';
    userHandDiv.textContent = 'ã‚ãªãŸã®æ‰‹ï¼š' + userHand;
    // playGameé–¢æ•°ã‚’å‘¼ã³å‡ºã™
    playGame(userHand);
  });
  scissorsButton.addEventListener('click' , function() {
    alert('ã‚ãªãŸã¯ãƒãƒ§ã‚­ã‚’é¸æŠã—ã¾ã—ãŸ');
     const userHand = 'ãƒãƒ§ã‚­';
      userHandDiv.textContent = 'ã‚ãªãŸã®æ‰‹ï¼š' + userHand;
     playGame(userHand);
  });
  paperButton.addEventListener('click' , () => {
    alert('ã‚ãªãŸã¯ãƒ‘ãƒ¼ã‚’é¸æŠã—ã¾ã—ãŸ');
    const userHand = 'ãƒ‘ãƒ¼';
    userHandDiv.textContent = 'ã‚ãªãŸã®æ‰‹ï¼š' + userHand;
  playGame(userHand);
  });

  // ã˜ã‚ƒã‚“ã‘ã‚“ã‚’å®Ÿè¡Œã™ã‚‹ã™ã¹ã¦ã®é–¢æ•°
function playGame(userHand) {
  // ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æ‰‹ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠ
  const randomIndex = Math.floor(Math.random() * 3);
  const computerHands = hands[randomIndex];
  console.log(userHand);
  console.log(computerHands);
  alert('ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã¯' + computerHands + 'ã‚’é¸æŠã—ã¾ã—ãŸ');
  computerHandDiv.textContent = 'ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã®æ‰‹ï¼š' + computerHands;
  const result = judge(userHand, computerHands);
  console.log(result);
  resultDiv.textContent = result;
  scoreDiv.style.display = 'flex';
}

// å‹æ•—ã‚’åˆ¤å®šã™ã‚‹é–¢æ•°
function judge(userHand, computerHands) {

//indexOfã§handsã®æ–‡å­—åˆ—ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆæ•°å€¤ï¼‰ã«å¤‰æ›
//userHandã¯ã‚°ãƒ¼ãªã®ã§ã€handsã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯(0)ã¨ã„ã†ã®ã‚’userIndexã¨ã—ã¦å®šç¾©ã—ã¦ã‚‹
const userIndex = hands.indexOf(userHand);
console.log(userIndex);
const computerIndex = hands.indexOf(computerHands);
console.log(computerIndex);
let resultMessage = ""; // çµæœãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ ¼ç´ã™ã‚‹å¤‰æ•°ã‚’ç”¨æ„

  //ã‚ã„ã“ã®å ´åˆ
  if (userIndex === computerIndex) {
    drawScore++;
    resultMessage = "å¼•ãåˆ†ã‘ã§ã™ğŸ˜";
  }

  else if (
    //ã‚ãªãŸãŒå‹ã¤å ´åˆ (å·®ãŒ-1ã€2ãªã‚‰å‹ã¡)
    //ä¾‹ï¼šã‚ãªãŸ(ã‚°ãƒ¼(0))ã€CP(ãƒãƒ§ã‚­(1)) => å·®ãŒ-1
    //ä¾‹ï¼šã‚ãªãŸ(ãƒãƒ§ã‚­(1))ã€CP(ãƒ‘ãƒ¼(2)) = å·®ãŒ-1
    //ä¾‹ï¼šã‚ãªãŸ(ãƒ‘ãƒ¼(2))ã€ CP(ã‚°ãƒ¼(0)) =å·®ãŒ2
    (userIndex + 3 - computerIndex) % 3 === 2) {
      winScore++;
      resultMessage = "ã‚ãªãŸã®å‹ã¡!!ğŸ†ğŸ‰";
    }

 else {

    // ãã‚Œä»¥å¤–ã§æŒ‡å®šã—ã¦ã‚‹ (ã‚ãªãŸãŒè² ã‘ã‚‹å ´åˆ => å·®ãŒ2ã€-1ãªã‚‰è² ã‘)
    loseScore++;
      resultMessage = "ã‚ãªãŸã®è² ã‘ã§ã™...ğŸ˜­";
  }
    document.getElementById('draw').textContent = drawScore;
    document.getElementById('win').textContent = winScore;
    document.getElementById('lose').textContent = loseScore;

    return resultMessage;

}
</script>
</html>